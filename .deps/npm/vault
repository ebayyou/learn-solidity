/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/vault@0.3.0/lib/vault.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var Vault=function(t){this._phrase=t.phrase||"",this._length=t.length||Vault.DEFAULT_LENGTH,this._repeat=t.repeat||Vault.DEFAULT_REPEAT,this._allowed=Vault.ALL.slice(),this._required=[];for(var e,a=Vault.TYPES,r=0,l=a.length;r<l;r++)0===(e=t[a[r].toLowerCase()])?this.subtract(Vault[a[r]]):"number"==typeof e&&this.require(Vault[a[r]],e);for(l=this._length-this._required.length;l>=0&&l--;)this._required.push(this._allowed)};Vault.UUID="e87eb0f4-34cb-46b9-93ad-766c5ab063e7",Vault.DEFAULT_LENGTH=20,Vault.DEFAULT_REPEAT=0,Vault.LOWER="abcdefghijklmnopqrstuvwxyz".split(""),Vault.UPPER="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),Vault.ALPHA=Vault.LOWER.concat(Vault.UPPER),Vault.NUMBER="0123456789".split(""),Vault.ALPHANUM=Vault.ALPHA.concat(Vault.NUMBER),Vault.SPACE=[" "],Vault.DASH=["-","_"],Vault.SYMBOL="!\"#$%&'()*+,./:;<=>?@[\\]^{|}~".split("").concat(Vault.DASH),Vault.ALL=Vault.ALPHANUM.concat(Vault.SPACE).concat(Vault.SYMBOL),Vault.TYPES="LOWER UPPER NUMBER SPACE DASH SYMBOL".split(" "),Vault.extend=function(t,e){for(var a in e)t.hasOwnProperty(a)||(t[a]=e[a]);return t},Vault.createHash=function(t,e,a){var r=(a||256)/8;return("undefined"!=typeof CryptoJS?CryptoJS:require("./crypto-js-3.1.2")).PBKDF2(t,e,{keySize:Math.ceil(r/4),iterations:8}).toString()},Vault.indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var a=0,r=t.length;a<r;a++)if(t[a]===e)return a;return-1},Vault.map=function(t,e,a){if(t.map)return t.map(e,a);for(var r=[],l=0,u=t.length;l<u;l++)r.push(e.call(a,t[l]));return r},Vault.toBits=function(t){for(var e=parseInt(t,16).toString(2);e.length<4;)e="0"+e;return e},Vault.prototype.subtract=function(t,e){if(t){e=e||this._allowed;for(var a=0,r=t.length;a<r;a++){var l=Vault.indexOf(e,t[a]);l>=0&&e.splice(l,1)}return e}},Vault.prototype.require=function(t,e){if(t)for(;e--;)this._required.push(t)},Vault.prototype.entropy=function(){for(var t=0,e=0,a=this._required.length;e<a;e++)t+=Math.ceil(Math.log(e+1)/Math.log(2)),t+=Math.ceil(Math.log(this._required[e].length)/Math.log(2));return t},Vault.prototype.generate=function(t){if(this._required.length>this._length)throw new Error("Length too small to fit all required characters");if(0===this._allowed.length)throw new Error("No characters available to create a password");for(var e,a,r,l,u,i=this._required.slice(),n=new Vault.Stream(this._phrase,t,this.entropy()),o="";o.length<this._length;){for(e=n.generate(i.length),a=i.splice(e,1)[0],r=o.charAt(o.length-1),l=this._repeat-1,u=r&&l>=0;u&&l--;)u=u&&o.charAt(o.length+l-this._repeat)===r;u&&(a=this.subtract([r],a.slice())),o+=a[e=n.generate(a.length)]}return o},Vault.Stream=function(t,e,a){this._phrase=t,this._service=e;var r=Vault.createHash(t,e+Vault.UUID,2*a),l=Vault.map(r.split(""),Vault.toBits).join("").split("");this._bases={2:Vault.map(l,(function(t){return parseInt(t,2)}))}},Vault.Stream.prototype.generate=function(t,e,a){e=e||2;var r,l=t,u=Math.ceil(Math.log(t)/Math.log(e)),i=Math.pow(e,u)-t;t:for(;l>=t;){if(!(r=this._shift(e,u)))return a?t:null;if((l=this._evaluate(r,e))>=t){if(1===i)continue t;this._push(i,l-t),l=this.generate(t,i,!0)}}return l},Vault.Stream.prototype._evaluate=function(t,e){for(var a=0,r=t.length;r--;)a+=t[r]*Math.pow(e,t.length-(r+1));return a},Vault.Stream.prototype._push=function(t,e){this._bases[t]=this._bases[t]||[],this._bases[t].push(e)},Vault.Stream.prototype._shift=function(t,e){var a=this._bases[t];return!a||a.length<e?null:a.splice(0,e)},"object"==typeof module&&(module.exports=Vault);
//# sourceMappingURL=/sm/123c0de96a4e1d725c47ab5e1a2b7a5380e537f2afe690f6371dcd5133a371e7.map